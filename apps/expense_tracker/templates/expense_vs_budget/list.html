{% extends 'layouts/master.html' %}

{% load static %}

{% block title %}
Expense | Expenses vs. Budget
{% endblock title %}



{% block styles %}
<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
{% endblock styles %}




{% block content %}
<div class="card mb-3">

    <!-- Header Content -->
    <div class="card-header bg-light">
        <div class="row flex-between-center">

            <div class="col-4 col-sm-auto d-flex align-items-center pe-0">
                <h5 class="fs-0 mb-0 text-nowrap py-2 py-xl-0">
                    <i class="fa-solid fa-handshake-simple fs-1 me-2"></i>
                    Expenses vs. Budget
                </h5>
            </div>

            <div class="col-8 col-sm-auto ms-auto text-end ps-0">
                <!-- Add New -->
                <!-- Filter -->
                <!-- Download -->
            </div>
        </div>
    </div>

    <!-- Body Content -->
    <div class="card-body p-4">
        <div class="table-responsive">

            <div class="d-flex justify-content-end mb-3">

                <!-- Search -->
                <div class="col-md-3">
                    <form class="d-flex justify-content-between mb-3">
                        <div class="input-group">
                            <input class="form-control" type="search" name="search" placeholder="Search..."
                                aria-label="Search" value="{{ request.GET.search }}">
                            <button class="btn btn-outline-secondary" type="submit">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </form>
                </div>

            </div>

            <table width="100%" class="table table-bordered table-striped fs--1 mb-0">
                <thead class="bg-200 text-900">
                    <tr>
                        <th class="" width="10%">
                            <div class="form-check mb-0">S/N</div>
                        </th>
                        <th width="20%">Category Name</th>
                        <th class="text-end" width="20%">Budget Amount</th>
                        <th class="text-end" width="20%">Expense Amount</th>
                    </tr>
                </thead>
                <tbody id="bulk-select-body">
                    {% for cat in page_obj %}
                    <tr>
                        <td>
                            <div class="form-check mb-0">
                                {{ page_obj.start_index|add:forloop.counter0 }}
                            </div>
                        </td>

                        <td>{{cat.name}}</td>

                        <td class="text-end">
                            {% if cat.budget.amount %} {{cat.budget.amount}} {% else %} 0.00 {% endif %} /-
                        </td>

                        <td class="text-end">
                            {% if cat.budget.total_expense %} {{cat.budget.total_expense}} {% else %} 0.00 {% endif %} /-
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- Pagination snd Counting -->
    {% include 'common/pagination.html' %}

</div>



<!-- Import Modal -->
{% include 'common/export_data.html' %}


{% endblock content %}




{% block js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

{% endblock js %}